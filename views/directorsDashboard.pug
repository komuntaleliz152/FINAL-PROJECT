//- doctype html
//- html
//-   head
//-     meta(charset='UTF-8')
//-     meta(name='viewport', content='width=device-width, initial-scale=1.0')
//-     title Director's Dashboard
//-     link(rel='stylesheet', href='/css/directorsDashboard.css')
//-     link(rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css' integrity='sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg==' crossorigin='anonymous' referrerpolicy='no-referrer')
//- body
//-     #sidebar.sidebar
//-       h2 Welcome  Orban 
//-       a(href='/')
//-         i.fas.fa-home
//-         |  Home 
//-       a(href='/addproduceSale')
//-         i.fas.fa-seedling
//-         |  Produce Sale 
//-       a(href='/addProcurement')
//-         i.fas.fa-truck-loading
//-         |  Procurement
//-       a(href='/CreditSalesList')
//-         i.fas.fa-hand-holding-usd
//-         |  Credit Sales List
//-       a(href='/addSale')
//-         i.fas.fa-receipt
//-         |  Sales 
//-       a(href='/stockList')
//-         i.fas.fa-warehouse
//-         |  Stock List
//-         a(href='/Logout')
//-           i.fas.fa-sign-out-alt
//-           |  Logout

//-     #main.main-content
//-       button.toggle-btn(onclick='toggleSidebar()') &#x2630;
//-       header
//-         h1 Director's Dashboard

//-       .container
//-         .card
//-           h3 Daily Sales
//-           #dailySales.value

//-         .card
//-           h3 Top-Selling Products
//-           ul#topProducts

//-         .card
//-           h3 Low Stock Alerts
//-           ul#lowStock

//-         .card
//-           h3 Weekly Sales
//-           #satisfaction.value 

//-         .card
//-           h3 Monthly Sales
//-           #grossProfit.value 

//-         .card
//-           h3 Low selling products
//-           #lowsellingproducts.value 

//-     script(src='js/directorsDashboard.js')

doctype html
html
  head
    meta(charset='UTF-8')
    meta(name='viewport', content='width=device-width, initial-scale=1.0')
    title Director's Dashboard
    link(rel='preconnect' href='https://fonts.googleapis.com')
    link(rel='preconnect' href='https://fonts.gstatic.com' crossorigin='')
    link(href='https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap' rel='stylesheet')
    link(rel='stylesheet', href='/css/directorsDashboard.css')
    link(rel='stylesheet', href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css', integrity='sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg==', crossorigin='anonymous', referrerpolicy='no-referrer')
    script(src='https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js')
  body
    .dashboard
      // Sidebar
      aside.sidebar
        h2 Karibu Grocery
        ul
          li
            a(href='/')
              i.fas.fa-home
              |  Home 
          li
            a(href='/addproduceSale')
              i.fas.fa-seedling
              |  Produce Sale 
          li
            a(href='/addProcurement')
              i.fas.fa-truck-loading
              |  Procurement
          li
            a(href='/CreditSalesList')
              i.fas.fa-hand-holding-usd
              |  Credit Sales List
          li
            a(href='/addSale')
              i.fas.fa-receipt
              |  Sales 
          li
            a(href='/stockList')
              i.fas.fa-warehouse
              |  Stock List
          li
            a(href='/Logout')
              i.fas.fa-sign-out-alt
              |  Logout

      // Main Content
      main.main-content
        header
          h1 Director's Dashboard
          p Monitor business performance and key metrics

        // Statistics
        .statistics
          .stat-box
            h3 Weekly Sales
            p= weeklySales ? `UGX ${weeklySales.toLocaleString()}` : 'UGX 0'

          .stat-box
            h3 Monthly Sales
            p= monthlySales ? `UGX ${monthlySales.toLocaleString()}` : 'UGX 0'

          .stat-box
            h3 Total Sales
            p= totalSales ? `UGX ${totalSales.toLocaleString()}` : 'UGX 0'

        // Charts Section
        .charts-section
          .chart-card
            h3 Sales Trend
            canvas#salesTrendChart
          
          .chart-card
            h3 Top Products Performance
            canvas#topProductsChart
          
          .chart-card.full-width
            h3 Sales Distribution
            canvas#salesDistributionChart

    // Hidden data elements for JavaScript
    script(type='application/json' id='dailySalesData')= dailySalesData
    script(type='application/json' id='topProductsData')= topProducts

    script(src='/js/directorsDashboard.js')
